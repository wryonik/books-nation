(this["webpackJsonpbook-nation"]=this["webpackJsonpbook-nation"]||[]).push([[0],{31:function(e,a,t){e.exports=t(62)},36:function(e,a,t){},37:function(e,a,t){},38:function(e,a,t){},62:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(28),s=t.n(o),r=(t(36),t(14)),i=t(1),c=(t(37),t(6)),u=t(7),m=t(9),h=t(8),d=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"header"},"Book",l.a.createElement("span",{className:"nation"},"Nation"))}}]),t}(n.Component),p=(t(38),t(30)),g=function(e){return l.a.createElement("div",{className:"filter"},l.a.createElement("span",{className:"label"},"Filter By:"),l.a.createElement("select",{className:"filterBy categoryDropdown",value:e.filter,onChange:e.handleFilter},l.a.createElement("option",{value:null},"None"),l.a.createElement("option",{value:"full"},"Full"),l.a.createElement("option",{value:"partial"},"Partial"),l.a.createElement("option",{value:"ebooks"},"eBooks"),l.a.createElement("option",{value:"free-ebooks"},"Free eBooks"),l.a.createElement("option",{value:"paid-ebooks"},"Paid eBooks")),l.a.createElement("select",{className:"filterBy LanguageDropdown",value:e.languageRestriction,onChange:e.handleLanguageRes},l.a.createElement("option",{value:null},"All"),l.a.createElement("option",{value:"en"},"English"),l.a.createElement("option",{value:"fr"},"French"),l.a.createElement("option",{value:"de"},"German"),l.a.createElement("option",{value:"hi"},"Hindi"),l.a.createElement("option",{value:"es"},"Spanish"),l.a.createElement("option",{value:"ru"},"Russian")))},b=function e(a){return e.defaultProps={sort:"relevance"},l.a.createElement("div",{className:"searchbar"},l.a.createElement("form",{onSubmit:a.handleSort,action:""},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Search By: "),l.a.createElement("input",{type:"text",className:"searchfield",placeholder:"Search by",onChange:a.handleSearch})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Book Title: "),l.a.createElement("input",{type:"text",className:"searchfield",placeholder:"Enter book title",onChange:a.handleBookTitle})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Author Name: "),l.a.createElement("input",{type:"text",className:"searchfield",placeholder:"Enter Author name",onChange:a.handleAuthorName})),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Publisher Name: "),l.a.createElement("input",{type:"text",className:"searchfield",placeholder:"Enter Publisher name",onChange:a.handlePublisherName})),l.a.createElement("button",{type:"submit",className:"button"},"Search"),l.a.createElement("div",{className:"properties"},l.a.createElement(g,{handleLanguageRes:a.handleLanguageRes,handleFilter:a.handleFilter,filter:a.filter,languageRestriction:a.languageRestriction}),l.a.createElement("div",{className:"sortBy",onClick:a.handleSort},l.a.createElement("span",{className:"label"},"Sort By:"),l.a.createElement("button",{value:"relevance",className:"sortButton left-button ".concat("relevance"===a.sort?"active":"")},"Relevance"),l.a.createElement("button",{value:"newest",className:"sortButton right-button ".concat("newest"===a.sort?"active":"")},"Newest")))))},v=t(39).create({headers:{"Content-Type":"application/json",Accept:"application/json"},baseURL:"https://www.googleapis.com/books/v1/volumes"});var f=function(e){var a=e.book.volumeInfo.hasOwnProperty("publishedDate")?e.book.volumeInfo.publishedDate.substring(0,4):e.book.volumeInfo.publishedDate="0000",t=e.book.volumeInfo.hasOwnProperty("averageRating")?e.book.volumeInfo.averageRating:e.book.volumeInfo.averageRating="1",n=e.book.volumeInfo.hasOwnProperty("imageLinks")?e.book.volumeInfo.imageLinks.thumbnail:1;return l.a.createElement(r.b,{to:"/".concat(e.book.id)},l.a.createElement("div",{className:"bookCard"},l.a.createElement("div",{className:"bookCard-bookThumbnail"},l.a.createElement("img",{src:n,alt:e.book.volumeInfo.title})),l.a.createElement("div",{className:"bookCard-bookInfo"},l.a.createElement("div",{className:"bookCard-bookInformation"},l.a.createElement("span",{className:"cardLabel"},"Name: "),e.book.volumeInfo.title),l.a.createElement("div",{className:"bookCard-bookInformation"},l.a.createElement("span",{className:"cardLabel"},"Authors: "),e.book.volumeInfo.authors),l.a.createElement("div",{className:"bookCard-bookInformation"},l.a.createElement("span",{className:"cardLabel"},"Publisher: "),e.book.volumeInfo.publisher),l.a.createElement("div",{className:"bookCard-bookInformation"},l.a.createElement("span",{className:"cardLabel"},"Published Year: "),a),l.a.createElement("div",{className:"bookCard-bookInformation"},l.a.createElement("span",{className:"cardLabel"},"Language: "),e.book.volumeInfo.language.toUpperCase()),l.a.createElement("div",{className:"bookCard-bookInformation"},l.a.createElement("span",{className:"cardLabel"},"Rating: "),t,"/5"))))},k=t(12),N=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;if(Object(c.a)(this,t),(n=a.call(this,e)).state={pageNumbers:[1],booksPerPage:10,totalPages:Math.ceil(e.totalBooks/10),currentPage:n.props.currentPage},n.pageNumbers=[],n.state.currentPage<5){n.state.pageNumbers.splice(1,0,n.state.totalPages),n.state.pageNumbers.splice(1,0,"...");for(var l=5;l>=2;l--)n.state.pageNumbers.splice(1,0,l)}else if(n.state.currentPage>n.state.totalPages-4){n.state.pageNumbers.splice(1,0,n.state.totalPages);for(var o=n.state.totalPages-1;o>=n.state.totalPages-4;o--)n.state.pageNumbers.splice(1,0,o);n.state.pageNumbers.splice(1,0,"...")}else{n.state.pageNumbers.splice(1,0,n.state.totalPages),n.state.pageNumbers.splice(1,0,"...");for(var s=n.state.currentPage+2;s>=n.state.currentPage-2;s--)n.state.pageNumbers.splice(1,0,s);n.state.pageNumbers.splice(1,0,"...")}return n.handlePaginationNext=n.handlePaginationNext.bind(Object(k.a)(n)),n.handlePaginationPrev=n.handlePaginationPrev.bind(Object(k.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(k.a)(n)),n}return Object(u.a)(t,[{key:"handlePaginationNext",value:function(){this.state.currentPage<this.state.totalPages&&this.props.onPageChange(this.state.currentPage+1)}},{key:"handlePaginationPrev",value:function(){this.state.currentPage>1&&this.props.onPageChange(this.state.currentPage-1)}},{key:"handlePageChange",value:function(e){this.setState({currentPage:e}),this.props.onPageChange(e)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"pagination"},l.a.createElement("div",{className:"pagination-prev ".concat(this.state.currentPage<=1?"isDisabled":""),onClick:this.handlePaginationPrev},"Prev"),l.a.createElement("div",{className:"pagination-list"},this.state.pageNumbers.map((function(a){return l.a.createElement("div",{key:a,className:"pagination-element ".concat(e.state.currentPage===a?"active":""),onClick:function(){e.handlePageChange(a)}},a)}))),l.a.createElement("div",{className:"pagination-next ".concat(this.state.currentPage===this.state.totalPages?"isDisabled":""),onClick:this.handlePaginationNext},"Next"))}}]),t}(n.Component),E=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"booklistPage"},l.a.createElement("div",{className:"bookslist"},this.props.books.map((function(e){return l.a.createElement(f,{key:e,book:e})}))),this.props.books.length?l.a.createElement(N,{totalBooks:this.props.totalBooks,onPageChange:this.props.onPageChange,currentPage:this.props.currentPage}):null)}}]),t}(n.Component),P=function(){return l.a.createElement("div",{className:"spinner"},l.a.createElement("i",{className:"fa fa-spinner fa-pulse"}),l.a.createElement("p",null,"Fetching Books..."))},B=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).handleRemove=function(){e.props.handleFilter?e.props.handleFilter():e.props.handleLanguageRes&&e.props.handleLanguageRes()},e}return Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"chip"},l.a.createElement("div",{className:"filterName"},this.props.filter),l.a.createElement("i",{className:"fas fa-times-circle",value:"none",onClick:this.handleRemove}))}}]),t}(n.Component),I=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).handleSearch=function(e){n.setState({searchField:e.target.value})},n.handleBookTitle=function(e){n.setState({bookTitle:"+intitle:".concat(e.target.value)})},n.handleAuthorName=function(e){n.setState({authorName:"+inauthor:".concat(e.target.value)})},n.handlePublisherName=function(e){n.setState({publisherName:"+inpublisher:".concat(e.target.value)})},n.handleSort=function(e){e.preventDefault(),void 0!==e.target.value&&n.setState({sort:e.target.value}),n.handleRequest()},n.handleFilter=function(e){null==e?n.setState({filter:null}):"none"!==e.target.value?n.setState({filter:e.target.value}):n.setState({filter:null}),n.handleRequest()},n.handleLanguageRes=function(e){void 0!==e?n.setState({languageRestriction:e.target.value}):n.setState({languageRestriction:null}),n.handleRequest()},n.handlePage=function(e){n.setState({startIndex:10*(e-1),currentPage:e}),n.handleRequest()},n.handleRequest=function(){n.q=n.state.searchField+n.state.bookTitle+n.state.authorName+n.state.publisherName,""!==n.state.searchField?n.setState({isLoading:!0},(function(){var e,a,t,l,o;(e=n.q,a=n.state.sort,t=n.state.filter,l=n.state.languageRestriction,o=n.state.startIndex,v.get("",{params:{q:e,orderBy:a,filter:t,langRestrict:l,startIndex:o}}).then((function(e){return JSON.parse(e.request.response)})).catch((function(e){return Promise.reject(e)}))).then((function(e){n.setState({isLoading:!1,books:Object(p.a)(e.items),totalBooks:e.totalItems})})).catch((function(e){n.setState({isLoading:!1,currentPage:1}),alert(e)}))})):alert("Please input Search Query")},n.state={books:[],totalBooks:0,searchField:"",bookTitle:"",authorName:"",publisherName:"",sort:"relevance",isLoading:!1,filter:null,languageRestriction:null,startIndex:0,currentPage:1},n}return Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"landing"},l.a.createElement(b,{searchBook:this.searchBook,handleSearch:this.handleSearch,handleBookTitle:this.handleBookTitle,handleAuthorName:this.handleAuthorName,handlePublisherName:this.handlePublisherName,handleSort:this.handleSort,sort:this.state.sort,filter:this.state.filter,languageRestriction:this.state.languageRestriction,handleFilter:this.handleFilter,handleLanguageRes:this.handleLanguageRes}),l.a.createElement("div",{className:"chipComponents"},this.state.filter?l.a.createElement(B,{filter:this.state.filter,handleFilter:this.handleFilter}):null,this.state.languageRestriction?l.a.createElement(B,{filter:this.state.languageRestriction,handleLanguageRes:this.handleLanguageRes}):null),this.state.isLoading?l.a.createElement(P,null):l.a.createElement(E,{books:this.state.books,totalBooks:this.state.totalBooks,onPageChange:this.handlePage,currentPage:this.state.currentPage}))}}]),t}(n.Component),y=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={BookId:n.props.match.params.id,isLoading:!1,Book:{title:"",authors:[],publisher:"",publishedDate:"",description:"",thumbnail:"",pagecount:"",saleInfo:"",category:"",link:"",ebook:""}},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0},(function(){var a;(a=e.state.BookId,v.get("/".concat(a)).then((function(e){return JSON.parse(e.request.response)})).catch((function(e){return Promise.reject(e)}))).then((function(a){e.setState({isLoading:!1,Book:{title:a.volumeInfo.title,authors:a.volumeInfo.authors,publisher:a.volumeInfo.publisher,publishedDate:a.volumeInfo.publishedDate,description:a.volumeInfo.description,thumbnail:a.volumeInfo.imageLinks.thumbnail,pagecount:a.volumeInfo.pageCount,saleInfo:a.saleInfo.saleability,category:a.volumeInfo.categories,link:a.accessInfo.webReaderLink,ebook:a.saleInfo.saleability.isEbook}})})).catch((function(a){e.setState({isLoading:!1}),alert(a)}))}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"bookInfo"},l.a.createElement("div",{className:"title"},this.state.Book.title),l.a.createElement("div",{className:"bookProperties"},l.a.createElement("div",{className:"image"},l.a.createElement("div",{className:"thumbnail"},l.a.createElement("img",{src:this.state.Book.thumbnail,alt:this.state.Book.title})),l.a.createElement("a",{className:"button",href:this.state.Book.link},"Go to Book")),l.a.createElement("div",{className:"smallInfo"},l.a.createElement("div",{className:"author"},l.a.createElement("span",{className:"label"},"Authors:"),this.state.Book.authors),l.a.createElement("div",{className:"publisher"},l.a.createElement("span",{className:"label"},"Publisher:"),this.state.Book.publisher),l.a.createElement("div",{className:"published date"},l.a.createElement("span",{className:"label"},"Published Date:"),this.state.Book.publishedDate),l.a.createElement("div",{className:"saleinfo"},l.a.createElement("span",{className:"label"},"Sale Info:"),this.state.Book.saleInfo),l.a.createElement("div",{className:"ebook"},l.a.createElement("span",{className:"label"},"E-book:"),this.state.Book.ebook?"Available":"Not available"),l.a.createElement("div",{className:"pagecount"},l.a.createElement("span",{className:"label"},"Page Count:"),this.state.Book.pagecount))),l.a.createElement("span",{className:"descLabel"},"About the Book"),l.a.createElement("div",{className:"description"},this.state.Book.description))}}]),t}(n.Component);var C=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(r.a,null,l.a.createElement(d,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:I}),l.a.createElement(i.a,{exact:!0,path:"/:id",component:y}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.4c6bb936.chunk.js.map